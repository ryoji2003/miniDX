# シフト管理のロジック

## 役割
役割に'(数字)'となっているのは、その業務に必要な人数である。
- 相談(1)
- 看護師(2)
- 訓練(1)
- 看護(1)
- 特浴(1)
- 風呂(5)
- リーダー(1)
- サブリーダー(1)
- 運転手(6以上)
- 事務(0) ※デフォルトは0、日によって変動 
- 研修(0) ※デフォルトは0、日によって変動 

## 制約条件
- "看護"は絶対に"看護師"が行う。
- スタッフから提出された「希望休（休暇）」の日には、そのスタッフをシフトに割り当てない。
- "リーダー"は"相談"、"看護師"、"介護"から選ばれる。
- 運転は6人以上で行う。
- 毎日11人で業務を行う。
- パートの人が途中で抜けてもその人数でその人の業務は行う。
- 希望休は必ず休む。

### "事務"・"研修"（フリー枠）に関する制約
- **不定期発生**: 毎日必ず存在するわけではなく、デフォルトの必要人数は「0人」とする。必要な日のみ人数を設定する。 
- **個人指名**: 特定の日付に対して、特定の個人を指名して割り当てる（例：1月14日はAさんが研修）。
- **職種不問**: どの職種（役割）のスタッフでも割り当て可能である。 
- **現場人員からの除外**: "事務"・"研修"に割り当てられたスタッフは、現場業務（通常の11名枠）の人数にはカウントしない。 
    - 例："研修"が1名いる日の総出勤人数は「11名（現場）+ 1名（研修）= 12名」となる。 
- **本来の役割制約の無効化**: 資格や本来の役割を持つスタッフが"事務"・"研修"に入る場合、その日は本来の役割としてカウントしない。 
    - 例：看護師であるAさんが"研修"の場合、Aさんは当日の"看護"要員（1名枠）には含まれないため、Aさん以外の看護師を別途配置して制約を満たす必要がある。 

## 努力目標
- ワゴン車(4)、普通車(2)がある。運転できる車種が限定されている。
- 普通車は運転できるがワゴン車が運転できる人、運転ができない人の区別をつける。
- パートは短時間勤務のため送迎業務には就かない。
- フリー枠（事務・研修など）を柔軟に作成できるようにする。